# 环境：
win10    stm32cubemx  keil5 使用HAL库
![image](https://img2024.cnblogs.com/blog/3273335/202412/3273335-20241226084226071-2002184292.png)

# 现象：
PC侧，向单片机发送数据，发现单片机接收数据时，只能接收到串口数据的最后一个字节，并且接收到的数据长度是正确的。数据长度正确，数据错误。

# 处理：
网上搜索到一个结果：https://blog.csdn.net/qq_21543821/article/details/106141697
HAL自身的坑坑。初始化端口的时候，把usrt放到最最后，即可。

# 代码修改：
![image](https://img2024.cnblogs.com/blog/3273335/202412/3273335-20241226084236459-679942968.png)

# 运行结果：
![image](https://img2024.cnblogs.com/blog/3273335/202412/3273335-20241226084244658-328497797.png)

完毕。